!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).IntlUnifiedNumberFormat={})}(this,function(e){"use strict";function L(e){var t=Intl.getCanonicalLocales;return"function"==typeof t?t(e):Intl.NumberFormat.supportedLocalesOf(e||"")}function m(e,t,n){if(void 0===n&&(n=Error),!e)throw new n(t)}function f(e){var O=function(u){return function(e,t){for(var n={locale:""},r=0,o=t;r<o.length;r++){var a=o[r],i=a.replace(c,""),l=s(e,i);if(l)return n.locale=l,a!==i&&(n.extension=a.slice(i.length+1,a.length)),n}return n.locale=u(),n}}(e),g=function(u){return function(e,t){for(var n={locale:""},r=0,o=t;r<o.length;r++){var a=o[r],i=a.replace(c,""),l=s(e,i);if(l)return n.locale=l,a!==i&&(n.extension=a.slice(i.length+1,a.length)),n}return n.locale=u(),n}}(e);return function(e,t,n,r,o){for(var a,i=(a="lookup"===n.localeMatcher?O(e,t):g(e,t)).locale,l={locale:"",dataLocale:i},u="-u",c=0,f=r;c<f.length;c++){var s=f[c],p=o[i];m("object"==typeof p&&null!==p,"locale data "+s+" must be an object");var v=p[s];m(Array.isArray(v),"keyLocaleData must be an array");var h=v[0];m("string"==typeof h||null===h,"value must be string or null");var y="";if(a.extension){var _=w(a.extension,s);void 0!==_&&(""!==_?~v.indexOf(_)&&(y="-"+s+"-"+(h=_)):~_.indexOf("true")&&(h="true",y="-"+s))}if(s in n){var d=n[s];m("string"==typeof d||null==d,"optionsValue must be String, Undefined or Null"),~v.indexOf(d)&&d!==h&&(h=d,y="")}l[s]=h,u+=y}if(2<u.length){var b=i.indexOf("-x-");if(-1===b)i+=u;else i=i.slice(0,b)+u+i.slice(b,i.length);i=L(i)[0]}return l.locale=i,l}}function w(e,t){m(2===t.length,"key must have 2 elements");var n=e.length,r="-"+t+"-",o=e.indexOf(r);if(-1!==o){for(var a=o+4,i=a,l=a,u=!1;!u;){var c=e.indexOf("-",l);2===(-1===c?n-l:c-l)?u=!0:-1===c?(i=n,u=!0):l=(i=c)+1}return e.slice(a,i)}if(r="-"+t,-1!==(o=e.indexOf(r))&&o+3===n)return""}var c=/-u(?:-[0-9a-z]{2,8})+/gi;function s(e,t){for(var n=t;;){if(~e.indexOf(n))return n;var r=n.lastIndexOf("-");if(!~r)return;2<=r&&"-"===n[r-2]&&(r-=2),n=n.slice(0,r)}}function r(e,t){for(var n=[],r=0,o=t;r<o.length;r++){var a=s(e,o[r].replace(c,""));a&&n.push(a)}return n}var o,t=(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function p(e){if(null==e)throw new TypeError("undefined/null cannot be converted to object");return Object(e)}function v(e,t,n,r,o){var a=e[t];if(void 0===a)return o;if("boolean"!==n&&"string"!==n)throw new TypeError("invalid type");if("boolean"===n&&(a=Boolean(a)),"string"===n&&(a=String(a)),void 0!==r&&!r.filter(function(e){return e==a}).length)throw new RangeError(a+" in not within "+r);return a}var n,i=(n=Error,t(l,n),l);function l(){var e=null!==n&&n.apply(this,arguments)||this;return e.type="MISSING_LOCALE_DATA",e}function h(e,t,n,r){e.get(t)||e.set(t,Object.create(null)),e.get(t)[n]=r}function u(e,t,n){var r=e.get(t);if(!r)throw new TypeError("PluralRules has not been initialized");return r[n]}var y=function(){return(y=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},_=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},d=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var a=arguments[t],i=0,l=a.length;i<l;i++,o++)r[o]=a[i];return r};var b=Intl.NumberFormat,O=(g.prototype.format=function(e){var t=this.nf.format(e);if(this.patternData){var n=u(g.__INTERNAL_SLOT_MAP__,this,"unitDisplay"),r=this.pl.select(e);return this.patternData[n]["one"===r?"one":"other"].replace("{0}",t)}return t},g.prototype.formatToParts=function(e){return this.nf.formatToParts(e)},g.prototype.resolvedOptions=function(){var e=this.nf.resolvedOptions(),t=u(g.__INTERNAL_SLOT_MAP__,this,"unit");return t&&(e.style="unit",e.unit=t,e.unitDisplay=u(g.__INTERNAL_SLOT_MAP__,this,"unitDisplay")),e},g.supportedLocalesOf=function(e,t){return function(e,t,n){return void 0!==n&&v(n=p(n),"localeMatcher","string",["lookup","best fit"],"best fit"),r(e,t)}(g.availableLocales,L(e),t)},g.__addLocaleData=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=function(t){Object.keys(d(t.availableLocales,Object.keys(t.aliases),Object.keys(t.parentLocales)).reduce(function(e,t){return e[t]=!0,e},{})).forEach(function(e){try{g.localeData[e]=function(e,t){var n=function(e,t,n){var r=[e];t[e]&&(e=t[e],r.push(e));var o=n[e];o&&r.push(o);for(var a=e.split("-"),i=a.length;1<i;i--)r.push(a.slice(0,i-1).join("-"));return r}(e,t.aliases,t.parentLocales),r=n.map(function(e){return t.data[e]}).filter(Boolean);if(!r.length)throw new i('Missing locale data for "'+e+'", lookup hierarchy: '+n.join(", "));return r.reverse(),r.reduce(function(e,t){return a(a({},e),t)},{})}(e,t)}catch(e){}})},r=0,o=e;r<o.length;r++)n(o[r]);g.availableLocales=Object.keys(g.localeData),g.__defaultLocale||(g.__defaultLocale=g.availableLocales[0])},g.getDefaultLocale=function(){return g.__defaultLocale},g.localeData={},g.availableLocales=[],g.__defaultLocale="en",g.relevantExtensionKeys=[],g.polyfilled=!0,g.__INTERNAL_SLOT_MAP__=new WeakMap,g);function g(e,t){void 0===t&&(t={});var n=(t=void 0===t?Object.create(null):p(t)).style,r=t.unit,o=(t.unitDisplay,_(t,["style","unit","unitDisplay"]));if("unit"===n){if(!r)throw new TypeError("Unit is required for `style: unit`");h(g.__INTERNAL_SLOT_MAP__,this,"unit",r),h(g.__INTERNAL_SLOT_MAP__,this,"unitDisplay",v(t,"unitDisplay","string",["long","short","narrow"],"short"));var a=L(e),i=Object.create(null),l=v(t,"localeMatcher","string",["best fit","lookup"],"best fit");i.localeMatcher=l;var u=g.localeData,c=f(g.getDefaultLocale)(g.availableLocales,a,i,g.relevantExtensionKeys,u);h(g.__INTERNAL_SLOT_MAP__,this,"locale",c.locale),this.patternData=u[c.locale][r]}this.nf=new b(e,y(y({},o),{style:"unit"===n?"decimal":n})),this.pl=new Intl.PluralRules(e)}e.UnifiedNumberFormat=O,e.isUnitSupported=function(e){try{new Intl.NumberFormat(void 0,{style:"unit",unit:e})}catch(e){return!1}return!0},Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=intl-unified-numberformat.min.js.map
